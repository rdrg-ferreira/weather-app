import"./styles.css";function createApp(){return{getData:async e=>{const t=await(async e=>{try{const t=await fetch(`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}/today?unitGroup=metric&include=current&key=MECHH3G8NEFPFDTF62XB8HY7T&contentType=json`);return await t.json()}catch(e){return console.log(e),null}})(e);return(e=>({address:e.resolvedAddress,temp:e.currentConditions.temp,feelslike:e.currentConditions.feelslike,humidity:e.currentConditions.humidity,windspeed:e.currentConditions.windspeed,datetime:e.currentConditions.datetime}))(t)}}}const screen=function(){const e=createApp(),t=document.querySelector("form"),n=document.querySelectorAll("#change-temp-metric > button");let o="C";const r=e=>{e!==o&&(document.querySelectorAll(".temp > .value").forEach(t=>{t.textContent="C"===e?((parseFloat(t.textContent)-32)*(5/9)).toFixed(1):(1.8*parseFloat(t.textContent)+32).toFixed(1)}),document.querySelectorAll(".temp > .metric").forEach(t=>t.textContent=`Â°${e}`),o=e)},c=e=>{const t=document.querySelector("#temp > .value");"F"===o&&(e.temp=1.8*e.temp+32),t.textContent=e.temp,document.querySelector("#address").textContent=e.address,document.querySelector("#time").textContent=e.datetime;const n=document.querySelector("#feelslike > .value");"F"===o&&(e.feelslike=1.8*e.feelslike+32),n.textContent=e.feelslike,document.querySelector("#humidity > .value").textContent=e.humidity,document.querySelector("#wind-speed > .value").textContent=e.windspeed};t.addEventListener("submit",async n=>{n.preventDefault();const o=Object.fromEntries(new FormData(t).entries()),r=await e.getData(o.location);c(r)}),n[0].addEventListener("click",()=>r("C")),n[1].addEventListener("click",()=>r("F")),(async()=>{const t=await e.getData("Coimbra");c(t),document.querySelector("main").classList.remove("invisible")})()}();